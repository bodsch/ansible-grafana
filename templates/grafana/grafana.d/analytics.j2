#################################### Analytics ####################################
[analytics]
# Server reporting, sends usage counters to stats.grafana.org every 24 hours.
# No ip addresses are being tracked, only simple counters to track
# running instances, dashboard and error counts. It is very helpful to us.
# Change this option to false to disable reporting.
{% if grafana_analytics.reporting_enabled is defined %}
reporting_enabled = {{ grafana_analytics.reporting_enabled | bool | ternary('true', 'false') }}
{% endif %}

# The name of the distributor of the Grafana instance. Ex hosted-grafana, grafana-labs
{% if grafana_analytics.reporting_distributor is defined and
      grafana_analytics.reporting_distributor | string | length > 0 and
      grafana_analytics.reporting_distributor in ["hosted-grafana", "grafana-labs"] %}
reporting_distributor = {{ grafana_analytics.reporting_distributor }}
{% endif %}

# Set to false to disable all checks to https://grafana.com
# for new versions of grafana. The check is used
# in some UI views to notify that a grafana update exists.
# This option does not cause any auto updates, nor send any information
# only a GET request to https://raw.githubusercontent.com/grafana/grafana/main/latest.json to get the latest version.
{% if grafana_analytics.check_for_updates is defined %}
check_for_updates = {{ grafana_analytics.check_for_updates | bool | ternary('true', 'false') }}
{% endif %}

# Set to false to disable all checks to https://grafana.com
# for new versions of plugins. The check is used
# in some UI views to notify that a plugin update exists.
# This option does not cause any auto updates, nor send any information
# only a GET request to https://grafana.com to get the latest versions.
{% if grafana_analytics.check_for_plugin_updates is defined %}
check_for_plugin_updates = {{ grafana_analytics.check_for_plugin_updates | bool | ternary('true', 'false') }}
{% endif %}

# Google Analytics universal tracking code, only enabled if you specify an id here
{% if grafana_analytics.google_analytics_ua_id is defined and
      grafana_analytics.google_analytics_ua_id | string | length > 0 %}
google_analytics_ua_id =  {{ grafana_analytics.google_analytics_ua_id }}
{% endif %}

# Google Tag Manager ID, only enabled if you specify an id here
{% if grafana_analytics.google_tag_manager_id is defined and
      grafana_analytics.google_tag_manager_id | string | length > 0 %}
google_tag_manager_id =  {{ grafana_analytics.google_tag_manager_id }}
{% endif %}

# Rudderstack write key, enabled only if rudderstack_data_plane_url is also set
{% if grafana_analytics.rudderstack_write_key is defined and
      grafana_analytics.rudderstack_write_key | string | length > 0 %}
rudderstack_write_key =  {{ grafana_analytics.rudderstack_write_key }}
{% endif %}

# Rudderstack data plane url, enabled only if rudderstack_write_key is also set
{% if grafana_analytics.rudderstack_data_plane_url is defined and
      grafana_analytics.rudderstack_data_plane_url | string | length > 0 %}
rudderstack_data_plane_url =  {{ grafana_analytics.rudderstack_data_plane_url }}
{% endif %}

# Rudderstack SDK url, optional, only valid if rudderstack_write_key and rudderstack_data_plane_url is also set
{% if grafana_analytics.rudderstack_sdk_url is defined and
      grafana_analytics.rudderstack_sdk_url | string | length > 0 %}
rudderstack_sdk_url =  {{ grafana_analytics.rudderstack_sdk_url }}
{% endif %}

# Rudderstack Config url, optional, used by Rudderstack SDK to fetch source config
{% if grafana_analytics.rudderstack_config_url is defined and
      grafana_analytics.rudderstack_config_url | string | length > 0 %}
rudderstack_config_url =  {{ grafana_analytics.rudderstack_config_url }}
{% endif %}

# Controls if the UI contains any links to user feedback forms
{% if grafana_analytics.feedback_links_enabled is defined %}
feedback_links_enabled = {{ grafana_analytics.feedback_links_enabled | bool | ternary('true', 'false') }}
{% endif %}
